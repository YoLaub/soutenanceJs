<!doctype html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Soutenance</title>
    <link href="./style.css" rel="stylesheet" />
    <script type="text/javascript" src="./tools.js"></script>
</head>

<body>
    <!-- rules and instructions -->
    <div class="card instructions">
        <p class="h6 font-weight-bold text-center">Consignes générales</p>
        <p>Toutes les consignes et recommandations vues en cours devront être respectées, notamment :</p>
        <ul>
            <li>du code structuré et correctement indenté,</li>
            <li>du code découpé ; ne pas hésiter à faire plusieurs fonctions (même des petites),</li>
            <li>du code DRY (Dont' Repeat Yourself),</li>
            <li>du code <strong>documenté</strong></li>
            <li>du code testé et avec un minimum de robustesse</li>
        </ul>
        <p>Eléments de départ fournis quel que soit le projet :</p>
        <ul>
            <li>ce fichier (sujet_xx.html) qui est un conteneur de votre projet</li>
            <li>un fichier de style CSS (style.css) déjà chargé via le header du document html</li>
            <li>un fichier Javascript (tools.js), déjà chargé via le header du document html, contenant divers outils :
                <ul>
                    <li>une fonction d'affichage formatté d'un tableau (Array) à la fin du document html courant,</li>
                    <li>une fonction d'affichage formatté d'un résultat à la fin du document html courant,</li>
                    <li>une fonction de génération aléatoire d'un nombre entier compris entre 2 valeurs,</li>
                    <li>une fonction de génération d'une série aléatoire de nombres entiers rangés dans un tableau de
                        type Array,</li>
                </ul>
                N'hésitez pas à faire vos curieux sur le code disponible dans le fichier <em>tools.js</em> et à utiliser
                (c'est à dire appeler) les fonctions
                proposées selon votre sujet et/ou vos besoins. Vous pouvez aussi vous en inspirer...
            </li>
        </ul>
        <p>La restitution de votre travail se fera par les moyens de votre choix (zip, dépôt sur votre github, ...) au
            plus tard
            le matin du jour de la soutenance.<br>
            Elle devra contenir tous les éléments pour faire tourner votre code : à minima, les fichiers tools.js,
            style.css et, bien évidemment, le fichier sujet_xx.html que vous aurez modifié. Ajoutez tout autre fichier
            que vous jugeriez nécessaire
            pour restituer votre travail.
        </p>
        <p>En principe, seul l'ajout de code JavaScript entre les balises &lt;script&gt;...&lt;script&gt;
            est nécessaire mais sentez-vous libre de modifier n'importe quelle autre partie des 3 fichiers proposés
            (.html, .js, .css)
            sous réserve d'en avoir une justification.
        </p>
        <p>Bien entendu, durant la semaine précédant la soutenance, <span class="text-success">je reste disponible pour
                répondre à toutes les questions</span>
            pour lever les doutes, les ambiguïtés, les incompréhensions du sujet, ...<br>
            <span class="text-danger">Ne restez pas totalement bloqué</span> au risque de perdre du temps ou, pire, de
            supputer
            et de vous fourvoyer...
        </p>
    </div>

    <!-- subject -->
    <div class="card subject">
        <p class="h6 font-weight-bold text-center">Sujet #15 - Vous avez dit dichotomie ?</p>
        <p>Vous connaissez sûrement (même sans le savoir) la méthode de recherche d'une solution par dichotomie.<br>
            <em>"- J'ai choisi (dans ma tête) un nombre entre 1 et 100. Devine-le... <br>
                - 50 ?<br>
                - Non... c'est plus petit<br>
                - 25 ?<br>
                - Non... c'est plus grand<br>
                - Heu... (vous hésitez entre 37 et 38 parce que vous cherchez le nombre à mi-chemin entre 25 et 50)<br>
                - ...<br>
            </em></p>
        <p>C'est ça la recherche dichotomique !</p>
        <p></p>
        <p>Il faut proposer une méthode qui permet à l'ordinateur de trouver par dichotomie un nombre entier que
            l'utilisateur aura choisi.</p>
        <ol>
            <li>Récupérer le nombre entier choisi par l'utilisateur (entre 0 et 1000 par exemple).<br>
                Bien évidemment, l'ordinateur ne triche pas et ne va pas voir directement
                ce que l'utilisateur a renseigné ! Le programme déroule méthodiquement la méthode ; il stocke même dans
                un tableau chacun des nombres qu'il soumet au test <em>"plus petit ou plus grand ?"</em></li>
            <li>Quand le nombre est trouvé, le processus s'arrête et le tableau des essais est restitué à l'utilisateur
                (pour notre exemple
                ce serait [50, 25, 37, ...]).
                Restituer par le moyen de votre choix (console, zone de résultat, ...), mais
                la fonction "displayArray" donnée dans <em>tools.js</em> devra être privilégiée.</li>
        </ol>
    </div>

    <!-- html wrapper -->
    <div class="card input">
        <div class="formulaire">
            <input type="number" id="secret-number" placeholder="Nombre secret">
            <button type="button" class="btn btn-primary" onclick="search()">
                Chercher
            </button>
        </div>
    </div>

    <!-- html display area wrapper -->
    <div class="card result" id="result"></div>

    <script type="text/javascript">
        // YOUR CODE HERE
        // ...

        /* fonction permettant de d'effectuer une recherche par dichotomie,c'est à dire réduire de moitié l'espace de recherche à chaque étape : on regarde la valeur du milieu et si ce n'est pas celle recherchée, on sait qu'il faut continuer de chercher dans la première moitié ou dans la seconde. */
    
        function search() {

            //Récupère le nombre secret
            let theNumber = parseInt(document.getElementById("secret-number").value);

            // Initialisation des variables 
            let arrayTest = [];
            let min = 0;
            let max = 1000;
            let guess;

            //Prévision des erreurs
            if (isNaN(theNumber) || theNumber < min || theNumber > max) {
                alert("Veuillez choisir un nombre entre 0 et 1000");
            }

            // Boucle de vérification afin de tester le nombre jusqu'à obtention du resultat
            while (guess !== theNumber) {

                guess = parseInt(min + max)/2;
                arrayTest.push(guess)

                if (guess === theNumber) {
                    displayArray(arrayTest)
                } else if (guess > theNumber) {
                    max = guess + 1;
                    console.log(max)
                } else {
                    min = guess - 1;
                    console.log(min)
                }
            }
        }
    </script>

</body>

</html>